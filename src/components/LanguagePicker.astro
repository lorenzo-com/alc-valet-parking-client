---
import { languages } from "@/i18n/ui";
import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
---
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
    {languages[lang]}
  </button>
  <ul class="dropdown-menu dropdown-menu-dark">
    {Object.entries(languages).map(([lang, label]) => (
    <li>
      <a class="dropdown-item" href={translatePath("/", lang)}>{label}</a>
    </li>
    ))}
  </ul>
</div>